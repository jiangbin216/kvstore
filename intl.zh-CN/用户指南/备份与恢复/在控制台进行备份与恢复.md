# 在控制台进行备份与恢复 {#task_1715457 .task}

随着越来越多的业务开始使用Redis作为最终的持久化存储引擎，用户对于数据可靠性就提出了更高的需求。Redis的备份恢复解决方案全面升级了云数据库Redis的数据可靠性。

## 自动备份（设置备份策略） {#section_k10_q5d_y1s .section}

背景信息

由于越来越多的应用将Redis作为持久化存储，所以需要常规的备份机制保证数据误操作之后，具备数据快速恢复的能力。阿里云采用在备节点上执行RDB快照备份，备份期间对您的实例访问不会产生性能影响，并且提供了控制台的快捷操作可以让您进行个性化的备份设置。

操作步骤

1.  登录[Redis管理控制台](https://kvstore.console.aliyun.com/)。
2.  在界面左上方的菜单栏中选择实例所在的地域 。
3.  在实例列表页，单击目标实例ID或者其右侧**操作**栏的**管理**。
4.  在左侧导航栏中，选择**备份与恢复**。
5.  单击**备份设置**。
6.  单击**编辑**，自定义自动备份的周期和时间。 

    **说明：** 默认备份数据的保留时间是7天，不可修改。

7.  单击**确定**，完成自动备份设置。

## 手动备份（立即备份） {#section_kuq_ks2_0ix .section}

除了备份常规设置外，您还可以在控制台上随机发起一次手工备份。

1.  登录[Redis管理控制台](https://kvstore.console.aliyun.com/)。
2.  在界面左上方的菜单栏中选择实例所在的地域 。
3.  在实例列表页，单击目标实例ID或者其右侧**操作**栏的**管理**。
4.  在左侧导航栏中，选择**备份与恢复**。
5.  单击右上角的**创建备份**。
6.  单击确认对实例进行立即备份。 

    **说明：** 您可以在备份数据页，选择时间范围，查询历史备份数据。默认备份数据的保留时间是7天，所以可以提供7天以内的历史备份数据查询。


## 备份存档 {#section_vvb_gjz_z2r .section}

背景信息

由于行业监管需要或者公司制度，需要将Redis中的数据定期备份存档，云数据库Redis版提供了备份存档功能并且目前对用户免费开放，云数据库Redis服务自动将自动备份或者手动备份文件保存至OSS上。目前阿里云将为您免费在OSS保存7天内的备份文件，7天外的备份文件将会自动删除。

如果您需要更长时间的数据存档，可以直接在控制台上复制链接将数据库备份文件自行下载到本地进行长时间存储。

操作步骤

1.  登录[Redis管理控制台](https://kvstore.console.aliyun.com/)。
2.  在界面左上方的菜单栏中选择实例所在的地域 。
3.  在实例列表页，单击目标实例ID或者其右侧**操作**栏的**管理**。
4.  在左侧导航栏中，选择**备份与恢复**。
5.  在备份数据页，选择要归档的备份数据集，单击**下载**。

## 数据恢复 {#section_nr6_ei4_yiu .section}

用户对数据库误操作引起的损失可以通过数据恢复功能最大程度地减少，您可以在控制台上使用备份文件进行数据恢复。

控制台恢复

**说明：** 该恢复方式暂不适用于集群版实例。

1.  登录[Redis管理控制台](https://kvstore.console.aliyun.com/)。
2.  在界面左上方的菜单栏中选择实例所在的地域 。
3.  在实例列表页，单击目标实例ID或者其右侧**操作**栏的**管理**。
4.  在左侧导航栏中，选择**备份与恢复**。
5.  在备份与恢复页面，选择备份数据页签。
6.  选择要恢复的时间范围，单击**查询**，然后选择目标备份文件，单击**数据恢复**。
7.  在数据恢复的窗口，选择**确定**直接对原实例进行数据恢复；或者选择**克隆实例**，将备份数据恢复到新创建的实例上，确认恢复后数据没有问题，再对原实例进行数据恢复。 

    **说明：** 由于数据恢复操作有较高的风险，如果时间可控还是建议先采用克隆实例的方式，基于一个需要恢复的备份集创建一个按量付费实例，验证数据正确性之后，再进行数据恢复操作。


## 克隆实例 {#section_g8p_9y9_mp9 .section}

背景信息

在日常维护项目中，运维工程师经常需要快速部署一个新的应用，通常应用程序的部署会相对简单，基于一个ECS的镜像文件便可以轻松搭建。而数据库层面就会相对复杂，运维工程师需要购买或者安装一个数据库，然后再初始化相关的数据库脚本（创建表、触发器、视图等），操作琐碎并且错误率也比较高，尤其是游戏行业这种快速开服，快速部署新应用往往一天会重复很多次。

云数据库Redis针对这个需求，开发了克隆实例的功能，您可以根据备份文件克隆出一个新的包年包月或者按量付费实例，复杂的数据库开发部署操作采用一键式的图形化界面搞定，极大的提高了工作效率。

**说明：** 克隆实例功能适用于2.8版本的非集群版 Redis 实例。

操作步骤

1.  登录[Redis管理控制台](https://kvstore.console.aliyun.com/)。
2.  在界面左上方的菜单栏中选择实例所在的地域 。
3.  在实例列表页，单击目标实例ID或者其右侧**操作**栏的**管理**。
4.  在左侧导航栏中，选择**备份与恢复**。
5.  在备份数据页，选择需要的备份数据集，单击**克隆实例**。 

    **说明：** 如需将克隆实例创建在VPC网络中，请确保目标VPC中已有虚拟交换机，如果没有请先[创建交换机](../../../../intl.zh-CN/专有网络和交换机/管理交换机/创建交换机.md#)。


## 相关API {#section_g6t_f61_va3 .section}

-   [CreateBackup](../../../../intl.zh-CN/API参考/备份恢复/CreateBackup.md#)
-   [ModifyBackupPolicy](../../../../intl.zh-CN/API参考/备份恢复/ModifyBackupPolicy.md#)
-   [DescribeBackupPolicy](../../../../intl.zh-CN/API参考/备份恢复/DescribeBackupPolicy.md#)
-   [DescribeBackups](../../../../intl.zh-CN/API参考/备份恢复/DescribeBackups.md#)
-   [RestoreInstance](../../../../intl.zh-CN/API参考/备份恢复/RestoreInstance.md#)

